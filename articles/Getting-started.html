<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="tft">
<title>Getting started • tft</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.0/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.0/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Getting started">
<meta property="og:description" content="tft">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">tft</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/Electricity-dataset.html">Electricity dataset</a>
    <a class="dropdown-item" href="../articles/Getting-started.html">Getting started</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Getting started</h1>
            
      
      
      <div class="d-none name"><code>Getting-started.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">suppressPackageStartupMessages</a></span><span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidymodels.tidymodels.org" class="external-link">tidymodels</a></span><span class="op">)</span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://mlverse.github.io/tft/">tft</a></span><span class="op">)</span></code></pre></div>
<p>tft is an R implementation of Temporal Fusion Transformers (TFT) using the torch package. The Temporal Fusion Transformer is a neural network architecture proposed by Bryan Lim et al. with the goal of making interpretable multi-horizon time-series forecasts.</p>
<p>The R package tft abstracts away the details of the architecture and provides an API that allows easy experimenting with the TFT architecture.</p>
<p>In this article we will create forecasts for the <code>?walmart_sales_weekly</code> dataset included in the <a href="https://github.com/dfalbel/walmartdata" class="external-link">walmartdata</a> package. This dataset has weekly sales of a sample of weekly sales by department of 45 retail stores. It also includes a few external predictors like the temperature, fuel price and the size of the store.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">walmart_sales</span>, package <span class="op">=</span> <span class="st">"walmartdata"</span><span class="op">)</span>
<span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">walmart_sales</span><span class="op">)</span>
<span class="co">#&gt; Rows: 421,570</span>
<span class="co">#&gt; Columns: 16</span>
<span class="co">#&gt; $ Store        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, …</span>
<span class="co">#&gt; $ Dept         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, …</span>
<span class="co">#&gt; $ Date         <span style="color: #949494; font-style: italic;">&lt;date&gt;</span> 2010-02-05, 2010-02-12, 2010-02-19, 2010-02-26, 2010-03-…</span>
<span class="co">#&gt; $ Weekly_Sales <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 24924.50, 46039.49, 41595.55, 19403.54, 21827.90, 21043.3…</span>
<span class="co">#&gt; $ Type         <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "A", "A", "A", "A", "A", "A", "A", "A", "A", "A", "A", "A…</span>
<span class="co">#&gt; $ Size         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 151315, 151315, 151315, 151315, 151315, 151315, 151315, 1…</span>
<span class="co">#&gt; $ Temperature  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 42.31, 38.51, 39.93, 46.63, 46.50, 57.79, 54.58, 51.45, 6…</span>
<span class="co">#&gt; $ Fuel_Price   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 2.572, 2.548, 2.514, 2.561, 2.625, 2.667, 2.720, 2.732, 2…</span>
<span class="co">#&gt; $ MarkDown1    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span>
<span class="co">#&gt; $ MarkDown2    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span>
<span class="co">#&gt; $ MarkDown3    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span>
<span class="co">#&gt; $ MarkDown4    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span>
<span class="co">#&gt; $ MarkDown5    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span>
<span class="co">#&gt; $ CPI          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 211.0964, 211.2422, 211.2891, 211.3196, 211.3501, 211.380…</span>
<span class="co">#&gt; $ Unemployment <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 8.106, 8.106, 8.106, 8.106, 8.106, 8.106, 8.106, 8.106, 7…</span>
<span class="co">#&gt; $ IsHoliday    <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span> FALSE, TRUE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FA…</span></code></pre></div>
<p>To make the example faster to run, we are going to create models for the first 2 stores.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">walmart_sales</span> <span class="op">&lt;-</span> <span class="va">walmart_sales</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">Store</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>, <span class="va">Dept</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<div class="section level2">
<h2 id="preparing-the-data">Preparing the data<a class="anchor" aria-label="anchor" href="#preparing-the-data"></a>
</h2>
<p>The first thing we need to make sure is that our dataset doesn’t have <a href="https://r4ds.hadley.nz/missing-values.html#missing-values" class="external-link">implicit missing observations</a>. This happens when an observations is just not present in the data instead of being explicitly marked with a <code>NA</code>. We are going to use <code>tsibble</code> functionality to add the implicitly missing observations, but you could use whatever tool you prefer for the task.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">sales</span> <span class="op">&lt;-</span> <span class="va">walmart_sales</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
    <span class="fu">tsibble</span><span class="fu">::</span><span class="fu"><a href="https://tsibble.tidyverts.org/reference/tsibble.html" class="external-link">tsibble</a></span><span class="op">(</span>
      key <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">Store</span>, <span class="va">Dept</span>, <span class="va">Type</span>, <span class="va">Size</span><span class="op">)</span>,
      index <span class="op">=</span> <span class="va">Date</span>
    <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
    <span class="fu">tsibble</span><span class="fu">::</span><span class="fu"><a href="https://tsibble.tidyverts.org/reference/group_by_key.html" class="external-link">group_by_key</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
    <span class="fu">tsibble</span><span class="fu">::</span><span class="fu"><a href="https://tsibble.tidyverts.org/reference/fill_gaps.html" class="external-link">fill_gaps</a></span><span class="op">(</span>
      Weekly_Sales <span class="op">=</span> <span class="fl">0</span>,
      IsHoliday <span class="op">=</span> <span class="cn">FALSE</span>
    <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span>
    <span class="fu">tidyr</span><span class="fu">::</span><span class="fu"><a href="https://tidyr.tidyverse.org/reference/fill.html" class="external-link">fill</a></span><span class="op">(</span><span class="va">Size</span>, <span class="va">Temperature</span>, <span class="va">Fuel_Price</span>, <span class="va">CPI</span>, <span class="va">Unemployment</span>, .direction <span class="op">=</span> <span class="st">"down"</span><span class="op">)</span></code></pre></div>
<p>tft can treat columns in the dataset differently depending on their types. There are mainly 5 types of columns:</p>
<ul>
<li>
<strong>‘index’</strong>: is a single date column that specifies at which point in time the observation refers to. This is not directly used by the model itself, but is used internally to create rolling windows and order observations.</li>
<li>
<strong>‘key’</strong>: are groups of columns that identify a single time series. Keys are necessary if you are creating predictions for multiple time series in a single model. By default, ‘keys’ are considered ‘static’ predictors by the model.</li>
<li>
<strong>‘static’</strong>: predictors are considered ‘static’ when they don’t vary over time, they are information from the time-series, like a region or a kind of product.</li>
<li>
<strong>‘unknown’</strong> are predictors that vary over time but we only know values observed for past observations. For example, you can use the daily temperature as a predictor, but you only know it for past observations.</li>
<li>
<strong>‘known’</strong> are predictors that vary over time and are known even for future observations. For example, the day of the week can be used as a predictor for a daily time series, and it’s known for every time step, no matter if it’s from past or future.</li>
</ul>
<p>The <code>recipes</code> package is used to specify how the model should treat each column of the dataset.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">rec</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://recipes.tidymodels.org/reference/recipe.html" class="external-link">recipe</a></span><span class="op">(</span><span class="va">Weekly_Sales</span> <span class="op">~</span> <span class="va">.</span>, data <span class="op">=</span> <span class="va">sales</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://recipes.tidymodels.org/reference/roles.html" class="external-link">update_role</a></span><span class="op">(</span><span class="va">Date</span>, new_role <span class="op">=</span> <span class="st">"index"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://recipes.tidymodels.org/reference/roles.html" class="external-link">update_role</a></span><span class="op">(</span><span class="va">Store</span>, <span class="va">Dept</span>, <span class="va">Type</span>, <span class="va">Size</span>, new_role <span class="op">=</span> <span class="st">"key"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://recipes.tidymodels.org/reference/roles.html" class="external-link">update_role</a></span><span class="op">(</span><span class="va">IsHoliday</span>, new_role <span class="op">=</span> <span class="st">"known"</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://recipes.tidymodels.org/reference/step_date.html" class="external-link">step_date</a></span><span class="op">(</span><span class="va">Date</span>, role <span class="op">=</span> <span class="st">"known"</span>, features <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"year"</span>, <span class="st">"month"</span>, <span class="st">"doy"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://recipes.tidymodels.org/reference/step_normalize.html" class="external-link">step_normalize</a></span><span class="op">(</span><span class="fu"><a href="https://recipes.tidymodels.org/reference/has_role.html" class="external-link">all_numeric_predictors</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://recipes.tidymodels.org/reference/step_indicate_na.html" class="external-link">step_indicate_na</a></span><span class="op">(</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">starts_with</a></span><span class="op">(</span><span class="st">"MarkDown"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://recipes.tidymodels.org/reference/step_impute_mean.html" class="external-link">step_impute_mean</a></span><span class="op">(</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">starts_with</a></span><span class="op">(</span><span class="st">"Markdown"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="../reference/step_include_roles.html">step_include_roles</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p>It’s recommended to include features that represent seasonality as known predictors in the TFT model, like mon, day of the week and etc. It’s also recommended to normalize the predictors and treat missing values as the model don’t treat them implicitly.</p>
<p>You can bake <code>prep</code> and <code>juice</code> the recipe to see how the transformations are working:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">rec</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://recipes.tidymodels.org/reference/prep.html" class="external-link">prep</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://recipes.tidymodels.org/reference/juice.html" class="external-link">juice</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; Rows: 572</span>
<span class="co">#&gt; Columns: 24</span>
<span class="co">#&gt; $ Store            <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,…</span>
<span class="co">#&gt; $ Dept             <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,…</span>
<span class="co">#&gt; $ Date             <span style="color: #949494; font-style: italic;">&lt;date&gt;</span> 2010-02-05, 2010-02-12, 2010-02-19, 2010-02-26, 2010…</span>
<span class="co">#&gt; $ Type             <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> A, A, A, A, A, A, A, A, A, A, A, A, A, A, A, A, A, A,…</span>
<span class="co">#&gt; $ Size             <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 151315, 151315, 151315, 151315, 151315, 151315, 15131…</span>
<span class="co">#&gt; $ Temperature      <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> -1.74810944, -2.00407912, -1.90842730, -1.45711234, -…</span>
<span class="co">#&gt; $ Fuel_Price       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> -1.5197484, -1.5760615, -1.6558384, -1.5455586, -1.39…</span>
<span class="co">#&gt; $ MarkDown1        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 2.135878e-17, 2.135878e-17, 2.135878e-17, 2.135878e-1…</span>
<span class="co">#&gt; $ MarkDown2        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 7.530688e-18, 7.530688e-18, 7.530688e-18, 7.530688e-1…</span>
<span class="co">#&gt; $ MarkDown3        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> -2.445418e-17, -2.445418e-17, -2.445418e-17, -2.44541…</span>
<span class="co">#&gt; $ MarkDown4        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 8.185461e-18, 8.185461e-18, 8.185461e-18, 8.185461e-1…</span>
<span class="co">#&gt; $ MarkDown5        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 5.606176e-17, 5.606176e-17, 5.606176e-17, 5.606176e-1…</span>
<span class="co">#&gt; $ CPI              <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> -1.089091, -1.055483, -1.044657, -1.037627, -1.030597…</span>
<span class="co">#&gt; $ Unemployment     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 0.9556973, 0.9556973, 0.9556973, 0.9556973, 0.9556973…</span>
<span class="co">#&gt; $ IsHoliday        <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span> FALSE, TRUE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE…</span>
<span class="co">#&gt; $ Weekly_Sales     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 24924.50, 46039.49, 41595.55, 19403.54, 21827.90, 210…</span>
<span class="co">#&gt; $ Date_year        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 2010, 2010, 2010, 2010, 2010, 2010, 2010, 2010, 2010,…</span>
<span class="co">#&gt; $ Date_month       <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span> Feb, Feb, Feb, Feb, Mar, Mar, Mar, Mar, Apr, Apr, Apr…</span>
<span class="co">#&gt; $ Date_doy         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> 36, 43, 50, 57, 64, 71, 78, 85, 92, 99, 106, 113, 120…</span>
<span class="co">#&gt; $ na_ind_MarkDown1 <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,…</span>
<span class="co">#&gt; $ na_ind_MarkDown2 <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,…</span>
<span class="co">#&gt; $ na_ind_MarkDown3 <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,…</span>
<span class="co">#&gt; $ na_ind_MarkDown4 <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,…</span>
<span class="co">#&gt; $ na_ind_MarkDown5 <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,…</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="metrics-and-validation">Metrics and validation<a class="anchor" aria-label="anchor" href="#metrics-and-validation"></a>
</h2>
<p>Now we should think about the size of the horizon we want to create forecasts to. It could be a single week ahead or ten, and this will influence how we split our data for training, validation and testing. This is not really a data analysis decision but more of a business decision, ie: how many weeks ahead we want know so we can plan the demand and etc. Let’s say we want 4 weeks ahead, ie ~1 month.</p>
<p>The <a href="https://github.com/tidymodels/rsample" class="external-link">rsample</a> package provides <code>sliding_*</code> functions that are very useful for the task of creating time splits.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">resamples</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rsample.tidymodels.org/reference/slide-resampling.html" class="external-link">sliding_period</a></span><span class="op">(</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="va">sales</span>, <span class="va">Date</span><span class="op">)</span>,
  index <span class="op">=</span> <span class="va">Date</span>,
  period <span class="op">=</span> <span class="st">"week"</span>,
  lookback <span class="op">=</span> <span class="cn">Inf</span>,
  assess_stop <span class="op">=</span> <span class="fl">4</span>,
  step <span class="op">=</span> <span class="fl">4</span>,
  skip <span class="op">=</span> <span class="fl">104</span>
<span class="op">)</span></code></pre></div>
<p>Now we can separate the splits in, training and testing, ie: a few of them will be used for cross-validation and choosing the hyperparamerters, the others are used for testing the model. We are going to use the last 4 splits for testing and the first 5 to cross validate.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">train_splits</span> <span class="op">&lt;-</span> <span class="va">resamples</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html" class="external-link">slice</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://rdrr.io/r/base/structure.html" class="external-link">structure</a></span><span class="op">(</span>class <span class="op">=</span> <span class="st">"rset"</span><span class="op">)</span>
<span class="va">test_splits</span> <span class="op">&lt;-</span> <span class="va">resamples</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html" class="external-link">slice</a></span><span class="op">(</span><span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://rdrr.io/r/base/structure.html" class="external-link">structure</a></span><span class="op">(</span>class <span class="op">=</span> <span class="st">"rset"</span><span class="op">)</span></code></pre></div>
<p><strong>Note</strong>: we have selected 4 weeks as the horizon of our predictions. We need to use this same value when specifying the horizon for the tft model.</p>
</div>
<div class="section level2">
<h2 id="fitting-the-model">Fitting the model<a class="anchor" aria-label="anchor" href="#fitting-the-model"></a>
</h2>
<p>We can now tune the tft model and compute metrics using:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">tft_model</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/tft.html">temporal_fusion_transformer</a></span><span class="op">(</span>
  horizon <span class="op">=</span> <span class="fl">4</span>, 
  lookback <span class="op">=</span> <span class="fl">100</span>, 
  hidden_state_size <span class="op">=</span> <span class="fu">tune</span><span class="op">(</span><span class="op">)</span>
<span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
  <span class="fu">set_engine</span><span class="op">(</span><span class="st">"torch"</span>, verbose <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
  <span class="fu">set_mode</span><span class="op">(</span><span class="st">"regression"</span><span class="op">)</span>


<span class="va">model</span> <span class="op">&lt;-</span> <span class="fu">workflow</span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
  <span class="fu">add_recipe</span><span class="op">(</span><span class="va">rec</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
  <span class="fu">add_model</span><span class="op">(</span><span class="va">tft_model</span><span class="op">)</span>

<span class="va">grid</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span>
  hidden_state_size <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">4</span>, <span class="fl">16</span>, <span class="fl">32</span><span class="op">)</span>
<span class="op">)</span>

<span class="va">results</span> <span class="op">&lt;-</span> <span class="fu">tune_grid</span><span class="op">(</span>
  <span class="va">model</span>,
  resamples <span class="op">=</span> <span class="va">train_splits</span>,
  grid <span class="op">=</span> <span class="va">grid</span>,
  control <span class="op">=</span> <span class="fu">control_grid</span><span class="op">(</span>verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="op">)</span>
<span class="co">#&gt; <span style="color: #0000BB;">i</span> <span style="color: #000000;">Slice1: preprocessor 1/1</span></span>
<span class="co">#&gt; <span style="color: #00BB00;">✓</span> <span style="color: #000000;">Slice1: preprocessor 1/1</span></span>
<span class="co">#&gt; <span style="color: #0000BB;">i</span> <span style="color: #000000;">Slice1: preprocessor 1/1, model 1/3</span></span>
<span class="co">#&gt; <span style="color: #00BB00;">✓</span> <span style="color: #000000;">Slice1: preprocessor 1/1, model 1/3</span></span>
<span class="co">#&gt; <span style="color: #0000BB;">i</span> <span style="color: #000000;">Slice1: preprocessor 1/1, model 1/3 (predictions)</span></span>
<span class="co">#&gt; <span style="color: #0000BB;">i</span> <span style="color: #000000;">Slice1: preprocessor 1/1, model 2/3</span></span>
<span class="co">#&gt; <span style="color: #00BB00;">✓</span> <span style="color: #000000;">Slice1: preprocessor 1/1, model 2/3</span></span>
<span class="co">#&gt; <span style="color: #0000BB;">i</span> <span style="color: #000000;">Slice1: preprocessor 1/1, model 2/3 (predictions)</span></span>
<span class="co">#&gt; <span style="color: #0000BB;">i</span> <span style="color: #000000;">Slice1: preprocessor 1/1, model 3/3</span></span>
<span class="co">#&gt; <span style="color: #00BB00;">✓</span> <span style="color: #000000;">Slice1: preprocessor 1/1, model 3/3</span></span>
<span class="co">#&gt; <span style="color: #0000BB;">i</span> <span style="color: #000000;">Slice1: preprocessor 1/1, model 3/3 (predictions)</span></span>
<span class="co">#&gt; <span style="color: #0000BB;">i</span> <span style="color: #000000;">Slice2: preprocessor 1/1</span></span>
<span class="co">#&gt; <span style="color: #00BB00;">✓</span> <span style="color: #000000;">Slice2: preprocessor 1/1</span></span>
<span class="co">#&gt; <span style="color: #0000BB;">i</span> <span style="color: #000000;">Slice2: preprocessor 1/1, model 1/3</span></span>
<span class="co">#&gt; <span style="color: #00BB00;">✓</span> <span style="color: #000000;">Slice2: preprocessor 1/1, model 1/3</span></span>
<span class="co">#&gt; <span style="color: #0000BB;">i</span> <span style="color: #000000;">Slice2: preprocessor 1/1, model 1/3 (predictions)</span></span>
<span class="co">#&gt; <span style="color: #0000BB;">i</span> <span style="color: #000000;">Slice2: preprocessor 1/1, model 2/3</span></span>
<span class="co">#&gt; <span style="color: #00BB00;">✓</span> <span style="color: #000000;">Slice2: preprocessor 1/1, model 2/3</span></span>
<span class="co">#&gt; <span style="color: #0000BB;">i</span> <span style="color: #000000;">Slice2: preprocessor 1/1, model 2/3 (predictions)</span></span>
<span class="co">#&gt; <span style="color: #0000BB;">i</span> <span style="color: #000000;">Slice2: preprocessor 1/1, model 3/3</span></span>
<span class="co">#&gt; <span style="color: #00BB00;">✓</span> <span style="color: #000000;">Slice2: preprocessor 1/1, model 3/3</span></span>
<span class="co">#&gt; <span style="color: #0000BB;">i</span> <span style="color: #000000;">Slice2: preprocessor 1/1, model 3/3 (predictions)</span></span>
<span class="co">#&gt; <span style="color: #0000BB;">i</span> <span style="color: #000000;">Slice3: preprocessor 1/1</span></span>
<span class="co">#&gt; <span style="color: #00BB00;">✓</span> <span style="color: #000000;">Slice3: preprocessor 1/1</span></span>
<span class="co">#&gt; <span style="color: #0000BB;">i</span> <span style="color: #000000;">Slice3: preprocessor 1/1, model 1/3</span></span>
<span class="co">#&gt; <span style="color: #00BB00;">✓</span> <span style="color: #000000;">Slice3: preprocessor 1/1, model 1/3</span></span>
<span class="co">#&gt; <span style="color: #0000BB;">i</span> <span style="color: #000000;">Slice3: preprocessor 1/1, model 1/3 (predictions)</span></span>
<span class="co">#&gt; <span style="color: #0000BB;">i</span> <span style="color: #000000;">Slice3: preprocessor 1/1, model 2/3</span></span>
<span class="co">#&gt; <span style="color: #00BB00;">✓</span> <span style="color: #000000;">Slice3: preprocessor 1/1, model 2/3</span></span>
<span class="co">#&gt; <span style="color: #0000BB;">i</span> <span style="color: #000000;">Slice3: preprocessor 1/1, model 2/3 (predictions)</span></span>
<span class="co">#&gt; <span style="color: #0000BB;">i</span> <span style="color: #000000;">Slice3: preprocessor 1/1, model 3/3</span></span>
<span class="co">#&gt; <span style="color: #00BB00;">✓</span> <span style="color: #000000;">Slice3: preprocessor 1/1, model 3/3</span></span>
<span class="co">#&gt; <span style="color: #0000BB;">i</span> <span style="color: #000000;">Slice3: preprocessor 1/1, model 3/3 (predictions)</span></span>
<span class="co">#&gt; <span style="color: #0000BB;">i</span> <span style="color: #000000;">Slice4: preprocessor 1/1</span></span>
<span class="co">#&gt; <span style="color: #00BB00;">✓</span> <span style="color: #000000;">Slice4: preprocessor 1/1</span></span>
<span class="co">#&gt; <span style="color: #0000BB;">i</span> <span style="color: #000000;">Slice4: preprocessor 1/1, model 1/3</span></span>
<span class="co">#&gt; <span style="color: #00BB00;">✓</span> <span style="color: #000000;">Slice4: preprocessor 1/1, model 1/3</span></span>
<span class="co">#&gt; <span style="color: #0000BB;">i</span> <span style="color: #000000;">Slice4: preprocessor 1/1, model 1/3 (predictions)</span></span>
<span class="co">#&gt; <span style="color: #0000BB;">i</span> <span style="color: #000000;">Slice4: preprocessor 1/1, model 2/3</span></span>
<span class="co">#&gt; <span style="color: #00BB00;">✓</span> <span style="color: #000000;">Slice4: preprocessor 1/1, model 2/3</span></span>
<span class="co">#&gt; <span style="color: #0000BB;">i</span> <span style="color: #000000;">Slice4: preprocessor 1/1, model 2/3 (predictions)</span></span>
<span class="co">#&gt; <span style="color: #0000BB;">i</span> <span style="color: #000000;">Slice4: preprocessor 1/1, model 3/3</span></span>
<span class="co">#&gt; <span style="color: #00BB00;">✓</span> <span style="color: #000000;">Slice4: preprocessor 1/1, model 3/3</span></span>
<span class="co">#&gt; <span style="color: #0000BB;">i</span> <span style="color: #000000;">Slice4: preprocessor 1/1, model 3/3 (predictions)</span></span>
<span class="co">#&gt; <span style="color: #0000BB;">i</span> <span style="color: #000000;">Slice5: preprocessor 1/1</span></span>
<span class="co">#&gt; <span style="color: #00BB00;">✓</span> <span style="color: #000000;">Slice5: preprocessor 1/1</span></span>
<span class="co">#&gt; <span style="color: #0000BB;">i</span> <span style="color: #000000;">Slice5: preprocessor 1/1, model 1/3</span></span>
<span class="co">#&gt; <span style="color: #00BB00;">✓</span> <span style="color: #000000;">Slice5: preprocessor 1/1, model 1/3</span></span>
<span class="co">#&gt; <span style="color: #0000BB;">i</span> <span style="color: #000000;">Slice5: preprocessor 1/1, model 1/3 (predictions)</span></span>
<span class="co">#&gt; <span style="color: #0000BB;">i</span> <span style="color: #000000;">Slice5: preprocessor 1/1, model 2/3</span></span>
<span class="co">#&gt; <span style="color: #00BB00;">✓</span> <span style="color: #000000;">Slice5: preprocessor 1/1, model 2/3</span></span>
<span class="co">#&gt; <span style="color: #0000BB;">i</span> <span style="color: #000000;">Slice5: preprocessor 1/1, model 2/3 (predictions)</span></span>
<span class="co">#&gt; <span style="color: #0000BB;">i</span> <span style="color: #000000;">Slice5: preprocessor 1/1, model 3/3</span></span>
<span class="co">#&gt; <span style="color: #00BB00;">✓</span> <span style="color: #000000;">Slice5: preprocessor 1/1, model 3/3</span></span>
<span class="co">#&gt; <span style="color: #0000BB;">i</span> <span style="color: #000000;">Slice5: preprocessor 1/1, model 3/3 (predictions)</span></span>

<span class="fu">autoplot</span><span class="op">(</span><span class="va">results</span><span class="op">)</span></code></pre></div>
<p><img src="Getting-started_files/figure-html/unnamed-chunk-9-1.png" width="700"></p>
<p>Once you are happy with the tuning you can finalize the workflow and obtain the metrics for the test splits.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">final_params</span> <span class="op">&lt;-</span> <span class="fu">select_best</span><span class="op">(</span><span class="va">results</span>, metric <span class="op">=</span> <span class="st">"rmse"</span><span class="op">)</span>
<span class="va">model</span> <span class="op">&lt;-</span> <span class="fu">finalize_workflow</span><span class="op">(</span><span class="va">model</span>, <span class="va">final_params</span><span class="op">)</span>
<span class="va">results</span> <span class="op">&lt;-</span> <span class="fu">fit_resamples</span><span class="op">(</span><span class="va">model</span>, <span class="va">test_splits</span><span class="op">)</span>
<span class="fu">collect_metrics</span><span class="op">(</span><span class="va">results</span><span class="op">)</span>
<span class="co">#&gt; <span style="color: #949494;"># A tibble: 2 × 6</span></span>
<span class="co">#&gt;   .metric .estimator     mean     n   std_err .config             </span>
<span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>               </span>
<span class="co">#&gt; <span style="color: #BCBCBC;">1</span> rmse    standard   <span style="text-decoration: underline;">4</span>298.        4 758.      Preprocessor1_Model1</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">2</span> rsq     standard      0.977     4   0.006<span style="text-decoration: underline;">87</span> Preprocessor1_Model1</span></code></pre></div>
<p>To obtain predictions for future observations, first we need to load a data.frame that includes known predictors like the <code>IsHoliday</code> variable for all time steps in the future data frame. Then we can call <code>forecast</code> or <code>predict</code> to obtain the predictions for the future data.</p>
<p>Note that <code>forecast</code> or <code>predict</code> currently can only predict for <code>horizon</code> time steps ahead. And don’t provide a away for doing rolling forecasts.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">new_data</span> <span class="op">&lt;-</span> <span class="fu">walmartdata</span><span class="fu">::</span><span class="va">walmart_sales_test</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">Store</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>, <span class="va">Dept</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">Date</span> <span class="op">&lt;=</span> <span class="fu">lubridate</span><span class="fu">::</span><span class="fu"><a href="https://lubridate.tidyverse.org/reference/ymd.html" class="external-link">ymd</a></span><span class="op">(</span><span class="st">"2012-11-23"</span><span class="op">)</span><span class="op">)</span>

<span class="va">final_model</span> <span class="op">&lt;-</span> <span class="fu">fit</span><span class="op">(</span><span class="va">model</span>, <span class="va">sales</span><span class="op">)</span>
<span class="va">final_predictions</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">final_model</span>, new_data <span class="op">=</span> <span class="va">new_data</span><span class="op">)</span>
<span class="va">final_predictions</span>
<span class="co">#&gt; <span style="color: #949494;"># A tibble: 16 × 4</span></span>
<span class="co">#&gt;    .pred_lower  .pred .pred_upper .pred_at  </span>
<span class="co">#&gt;          <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;date&gt;</span>    </span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span>      <span style="text-decoration: underline;">10</span>867. <span style="text-decoration: underline;">23</span>310.      <span style="text-decoration: underline;">35</span>770. 2012-10-26</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span>      <span style="text-decoration: underline;">10</span>865. <span style="text-decoration: underline;">23</span>355.      <span style="text-decoration: underline;">35</span>697. 2012-10-26</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span>      <span style="text-decoration: underline;">10</span>836. <span style="text-decoration: underline;">23</span>349.      <span style="text-decoration: underline;">35</span>620. 2012-10-26</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span>      <span style="text-decoration: underline;">10</span>803. <span style="text-decoration: underline;">23</span>332.      <span style="text-decoration: underline;">35</span>561. 2012-10-26</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span>      <span style="text-decoration: underline;">42</span>036. <span style="text-decoration: underline;">46</span>381.      <span style="text-decoration: underline;">50</span>732. 2012-10-26</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span>      <span style="text-decoration: underline;">42</span>035. <span style="text-decoration: underline;">46</span>396.      <span style="text-decoration: underline;">50</span>706. 2012-10-26</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span>      <span style="text-decoration: underline;">42</span>025. <span style="text-decoration: underline;">46</span>394.      <span style="text-decoration: underline;">50</span>679. 2012-10-26</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span>      <span style="text-decoration: underline;">42</span>013. <span style="text-decoration: underline;">46</span>388.      <span style="text-decoration: underline;">50</span>658. 2012-10-26</span>
<span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span>      <span style="text-decoration: underline;">13</span>853. <span style="text-decoration: underline;">31</span>928.      <span style="text-decoration: underline;">50</span>026. 2012-10-26</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">10</span>      <span style="text-decoration: underline;">13</span>850. <span style="text-decoration: underline;">31</span>994.      <span style="text-decoration: underline;">49</span>924. 2012-10-26</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">11</span>      <span style="text-decoration: underline;">13</span>808. <span style="text-decoration: underline;">31</span>987.      <span style="text-decoration: underline;">49</span>816. 2012-10-26</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">12</span>      <span style="text-decoration: underline;">13</span>760. <span style="text-decoration: underline;">31</span>963.      <span style="text-decoration: underline;">49</span>731. 2012-10-26</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">13</span>      <span style="text-decoration: underline;">60</span>166. <span style="text-decoration: underline;">66</span>304.      <span style="text-decoration: underline;">72</span>451. 2012-10-26</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">14</span>      <span style="text-decoration: underline;">60</span>166. <span style="text-decoration: underline;">66</span>327.      <span style="text-decoration: underline;">72</span>415. 2012-10-26</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">15</span>      <span style="text-decoration: underline;">60</span>152. <span style="text-decoration: underline;">66</span>324.      <span style="text-decoration: underline;">72</span>378. 2012-10-26</span>
<span class="co">#&gt; <span style="color: #BCBCBC;">16</span>      <span style="text-decoration: underline;">60</span>135. <span style="text-decoration: underline;">66</span>316.      <span style="text-decoration: underline;">72</span>349. 2012-10-26</span></code></pre></div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Daniel Falbel, Christophe Regouby.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
